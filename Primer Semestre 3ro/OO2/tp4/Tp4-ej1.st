Object subclass: #Biblioteca	instanceVariableNames: 'socios exporter'	classVariableNames: ''	package: 'Tp4-ej1'!!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!socios: anObject	socios := anObject! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!socios	^ socios! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!exporter: anObject	exporter := anObject! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!exporter	^ exporter! !!Biblioteca methodsFor: 'initialization' stamp: 'EmilianoPrez 4/7/2016 19:44'!initialize	socios:= OrderedCollection new.	exporter:= VoorheesExporter new.! !!Biblioteca methodsFor: 'initialization' stamp: 'EmilianoPrez 4/7/2016 19:56'!initialize: anExporter	socios:= OrderedCollection new.	exporter:= anExporter.! !!Biblioteca methodsFor: 'socios' stamp: 'EmilianoPrez 4/7/2016 19:41'!agregarSocio: aSocio 	socios add: aSocio.! !!Biblioteca methodsFor: 'as yet unclassified' stamp: 'DiegoTowers 4/10/2016 16:17'!exportarSocios"Retorna la representacion JSON de la coleccion de socios."^ self exporter export:(self socios).! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Biblioteca class	instanceVariableNames: ''!!Biblioteca class methodsFor: 'as yet unclassified' stamp: 'FerminMoreno 5/29/2020 19:07'!new: anExporter	^self new initialize: anExporter	! !Object subclass: #Interfase	instanceVariableNames: ''	classVariableNames: ''	package: 'Tp4-ej1'!!Interfase methodsFor: 'public' stamp: 'FerminMoreno 5/27/2020 21:03'!export: socios	^self subclassResponsibility .! !Interfase subclass: #Adapter	instanceVariableNames: 'neojson'	classVariableNames: ''	package: 'Tp4-ej1'!!Adapter methodsFor: 'initialize' stamp: 'FerminMoreno 5/27/2020 20:25'!initialize	neojson := NeoJSONWriter.! !!Adapter methodsFor: 'public' stamp: 'FerminMoreno 5/27/2020 20:38'!export: socios	| exportedString |		exportedString := OrderedCollection new.    socios do: [ :socio | exportedString add: (Dictionary new at: #nombre put: (socio nombre); at: #email put: (socio email); at: #legajo put: (socio legajo); yourself)].^neojson toStringPretty: exportedString.! !Interfase subclass: #Adapter2	instanceVariableNames: 'ston'	classVariableNames: ''	package: 'Tp4-ej1'!!Adapter2 methodsFor: 'initialize' stamp: 'FerminMoreno 5/27/2020 21:25'!initialize	ston := STON.! !!Adapter2 methodsFor: 'public' stamp: 'FerminMoreno 5/27/2020 21:25'!export: socios	| exportedString |		exportedString := OrderedCollection new.    socios do: [ :socio | exportedString add: (Dictionary new at: #nombre put: (socio nombre); at: #email put: (socio email); at: #legajo put: (socio legajo); yourself)].^ston toStringPretty: exportedString.! !TestCase subclass: #SetupBiblioteca	instanceVariableNames: 'socio1 socio2 miBiblioteca'	classVariableNames: ''	package: 'Tp4-ej1'!!SetupBiblioteca methodsFor: 'running' stamp: 'FerminMoreno 5/28/2020 20:48'!setUp	miBiblioteca:= Biblioteca new: (Adapter new).	socio1:= Socio nombre: 'Arya Stark' email: 'needle@stark.com' legajo: '5234/5'.	socio2:= Socio nombre: 'Tyrion Lannister' email: 'tyron@thelannister.com' legajo: '2345/2'.	"Hooks that subclasses may override to define the fixture of test."! !Object subclass: #Socio	instanceVariableNames: 'nombre email legajo'	classVariableNames: ''	package: 'Tp4-ej1'!!Socio methodsFor: 'initialization' stamp: 'EmilianoPrez 4/7/2016 19:40'!nombre: aString email: aString2 legajo: aString3 	nombre:= aString.	email:= aString2.	legajo:= aString3.! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!nombre: anObject	nombre := anObject! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!email: anObject	email := anObject! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!email	^ email! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!nombre	^ nombre! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!legajo	^ legajo! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!legajo: anObject	legajo := anObject! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Socio class	instanceVariableNames: ''!!Socio class methodsFor: 'creation' stamp: 'EmilianoPrez 4/7/2016 19:39'!nombre: aString email: aString2 legajo: aString3 	^self new nombre: aString email: aString2 legajo: aString3 ! !SetupBiblioteca subclass: #TestBiblioteca	instanceVariableNames: ''	classVariableNames: ''	package: 'Tp4-ej1'!!TestBiblioteca methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:51'!testExportarSocios	miBiblioteca agregarSocio: socio1.	miBiblioteca agregarSocio: socio2.	self assert: (miBiblioteca exportarSocios ) equals: '[	{		"legajo" : "5234/5",		"email" : "needle@stark.com",		"nombre" : "Arya Stark"	},	{		"legajo" : "2345/2",		"email" : "tyron@thelannister.com",		"nombre" : "Tyrion Lannister"	}]'.! !!TestBiblioteca methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 10:34'!testAgregarSocio	self assert: (miBiblioteca socios) size equals: 0.	miBiblioteca agregarSocio: socio1.	self assert: (miBiblioteca socios) size equals: 1.	miBiblioteca agregarSocio: socio2.	self assert: (miBiblioteca socios) size equals: 2.	self assert: (miBiblioteca socios includes: socio1) equals: true.! !Interfase subclass: #VoorheesExporter	instanceVariableNames: ''	classVariableNames: ''	package: 'Tp4-ej1'!!VoorheesExporter methodsFor: 'exporting' stamp: 'EmilianoPrez 4/7/2016 20:50'!export: socios 		| exportedString |		exportedString := '[', Character cr asString, 	(self exportSocio: socios first). 	socios allButFirst do: [ :socio | 		exportedString := exportedString, ',', Character cr asString, (self exportSocio: socio).			].		^exportedString,Character cr asString,']'.! !!VoorheesExporter methodsFor: 'exporting' stamp: 'EmilianoPrez 4/7/2016 20:37'!exportSocio: aSocio	^		'	{', Character cr asString,		'		"nombre" : "',aSocio nombre,'",',Character cr asString,		'		"email" : "',aSocio email,'",',Character cr asString,		'		"legajo" : "',aSocio legajo,'"',Character cr asString,		'	}'! !