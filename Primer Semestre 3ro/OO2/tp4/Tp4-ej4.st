Object subclass: #Component	instanceVariableNames: 'nombre fecha tamaño'	classVariableNames: ''	package: 'Tp4-ej4-FileSystem'!!Component methodsFor: 'accessing' stamp: 'lautaro 5/27/2020 22:02'!tamaño	^tamaño.! !!Component methodsFor: 'accessing' stamp: 'FerminMoreno 5/28/2020 19:10'!soyArchivo	^self subclassResponsibility ! !!Component methodsFor: 'accessing' stamp: 'lautaro 5/27/2020 22:03'!fecha	^fecha.! !Component subclass: #Archivo	instanceVariableNames: ''	classVariableNames: ''	package: 'Tp4-ej4-FileSystem'!!Archivo methodsFor: 'constructor' stamp: 'lautaro 5/27/2020 21:59'!llamado: nom tamaño: tam	nombre := nom.	tamaño := tam.	fecha := DateAndTime now.! !!Archivo methodsFor: 'public' stamp: 'lautaro 5/27/2020 22:16'!tamañoTotalOcupado 	^tamaño.! !!Archivo methodsFor: 'public' stamp: 'lautaro 5/28/2020 19:23'!soyArchivo	^true.! !!Archivo methodsFor: 'public' stamp: 'lautaro 5/27/2020 22:18'!listadoDeContenido	^nombre.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Archivo class	instanceVariableNames: ''!!Archivo class methodsFor: 'initalize' stamp: 'lautaro 5/27/2020 22:00'!llamado: nom tamaño: tam 	^self new llamado: nom tamaño: tam; yourself. ! !Component subclass: #Directorio	instanceVariableNames: 'componentes'	classVariableNames: ''	package: 'Tp4-ej4-FileSystem'!!Directorio methodsFor: 'public' stamp: 'FerminMoreno 5/28/2020 20:23'!componentes	^componentes! !!Directorio methodsFor: 'public' stamp: 'FerminMoreno 5/28/2020 20:29'!listadoDeContenido    |stream|    stream := String new writeStream.    self listadoDeContenido: stream direccion: ''.    stream skip: -1.    ^stream contents.! !!Directorio methodsFor: 'public' stamp: 'lautaro 5/28/2020 19:42'!archivoMasGrande	| archivos |	archivos := OrderedCollection new.	self todosLosArchivos: archivos.	archivos		sort: [ :archivo1 :archivo2 | archivo1 tamaño < archivo2 tamaño ].	^ archivos last! !!Directorio methodsFor: 'public' stamp: 'lautaro 5/28/2020 19:23'!soyArchivo	^false.! !!Directorio methodsFor: 'public' stamp: 'FerminMoreno 5/28/2020 17:52'!cantidadArchivos	^((componentes select: [ :each | each soyArchivo ]) size).! !!Directorio methodsFor: 'public' stamp: 'lautaro 5/28/2020 19:34'!todosLosArchivos: lista	componentes		do: [ :comp | 			(comp soyArchivo)				ifTrue: [ lista add: comp ]				ifFalse: [ comp todosLosArchivos: lista ] ].! !!Directorio methodsFor: 'public' stamp: 'FerminMoreno 5/28/2020 18:29'!listadoDeContenido: stream direccion: path	| string|	string:= path, '/',nombre.	stream << string.	self cantidadArchivos = 0		ifFalse: [ stream << '('; << self cantidadArchivos asString; <<' archivos)' ].	stream << Character cr.	(componentes reject: [ :fs | fs soyArchivo ])		do:			[ :componente | componente listadoDeContenido: stream direccion: string ]! !!Directorio methodsFor: 'public' stamp: 'lautaro 5/28/2020 19:49'!archivoMasNuevo	| archivos |	archivos := OrderedCollection new.	self todosLosArchivos: archivos.	archivos		sort: [ :archivo1 :archivo2 | archivo1 fecha < archivo2 fecha ].	^ archivos last	! !!Directorio methodsFor: 'public' stamp: 'lautaro 5/27/2020 22:16'!tamañoTotalOcupado	^componentes sumNumbers: [ :componente | componente tamañoTotalOcupado ].! !!Directorio methodsFor: 'public' stamp: 'lautaro 5/27/2020 22:04'!add: aComponent	componentes add: aComponent.! !!Directorio methodsFor: 'constructor' stamp: 'lautaro 5/27/2020 22:04'!llamado: nom	nombre := nom.	tamaño := 32.	fecha := DateAndTime now.	componentes := OrderedCollection new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Directorio class	instanceVariableNames: ''!!Directorio class methodsFor: 'initalize' stamp: 'lautaro 5/27/2020 22:00'!llamado: nom	^self new llamado: nom; yourself.! !TestCase subclass: #TestFilesystemSetup	instanceVariableNames: 'archivo1 archivo2 archivo3 directorio1 directorio2 directorio3'	classVariableNames: ''	package: 'Tp4-ej4-FileSystem'!!TestFilesystemSetup methodsFor: 'setup' stamp: 'FerminMoreno 5/28/2020 20:10'!setUp	directorio1 := Directorio llamado: 'Carpeta1'.	directorio2 := Directorio llamado: 'Carpeta2'.	directorio3 := Directorio llamado: 'Carpeta3'.	archivo1 := Archivo llamado: 'archivo1.txt' tamaño: 10.	archivo2 := Archivo llamado: 'archivo2.txt' tamaño: 20.	archivo3 := Archivo llamado: 'archivo2.txt' tamaño: 5.! !TestFilesystemSetup subclass: #TestArchivo	instanceVariableNames: ''	classVariableNames: ''	package: 'Tp4-ej4-FileSystem'!!TestArchivo methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:36'!testTamañoTotalOcupado	self assert: (archivo1 tamañoTotalOcupado ) equals: 10 . 	self assert: (archivo2 tamañoTotalOcupado) equals: 20. ! !TestFilesystemSetup subclass: #TestDirectorio	instanceVariableNames: ''	classVariableNames: ''	package: 'Tp4-ej4-FileSystem'!!TestDirectorio methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:54'!testListadoDeContenido	directorio1 add: archivo1.	directorio2 add: archivo2.	directorio1 add: directorio2.	self assert: (directorio1 listadoDeContenido ) equals: '/Carpeta1(1 archivos)/Carpeta1/Carpeta2(1 archivos)'! !!TestDirectorio methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:26'!testAdd 	directorio1 add: archivo1.	self assert: (directorio1 componentes includes: archivo1) equals: true . 	self assert: (directorio1 componentes ) size equals: 1.	directorio1 add: archivo2.	self assert: (directorio1 componentes includes: archivo2) equals: true . 	self assert: (directorio1 componentes ) size equals: 2.! !!TestDirectorio methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:11'!testArchivoMasGrande	directorio1 add: archivo1.	self assert: (directorio1 archivoMasGrande) equals: archivo1 . 	directorio1 add: archivo2.	directorio1 add: archivo3.	self assert: (directorio1 archivoMasGrande) equals: archivo2. ! !!TestDirectorio methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:21'!testArchivoMasNuevo 	directorio1 add: archivo1.	self assert: (directorio1 archivoMasNuevo) equals: archivo1 . 	directorio1 add: archivo2.	directorio1 add: archivo3.	self assert: (directorio1 archivoMasNuevo) equals: archivo1. ! !!TestDirectorio methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:06'!testCantidadArchivos 	self assert: (directorio1 cantidadArchivos) equals: 0.	directorio1 add: archivo1.	self assert: (directorio1 cantidadArchivos) equals: 1. ! !!TestDirectorio methodsFor: 'test' stamp: 'FerminMoreno 5/28/2020 20:28'!testTamañoTotalOcupado	directorio1 add: archivo1.	self assert: (directorio1 tamañoTotalOcupado ) equals: 10 . 	directorio1 add: archivo2.	directorio1 add: archivo3.	self assert: (directorio1 tamañoTotalOcupado) equals: 35. ! !